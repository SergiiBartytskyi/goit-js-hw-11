{"version":3,"file":"commonHelpers.js","sources":["../src/components/refs.js","../src/img/iconSuccess.svg","../src/img/iconError.svg","../src/components/notifications.js","../src/components/apiKey.js","../src/components/url.js","../src/components/fetchService.js","../src/components/render.js","../src/components/appendImagesMarkup.js","../src/main.js"],"sourcesContent":["export const refs = {\n  formSearch: document.getElementById('search-form'),\n  gallery: document.querySelector('.gallery'),\n  loader: document.querySelector('.loader'),\n};\n","export default \"__VITE_ASSET__54aa501e__\"","export default \"__VITE_ASSET__e951fa8c__\"","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { iconError, iconSuccess } from './icons';\n\niziToast.settings({\n  timeout: 3000,\n  transitionIn: 'fadeInDown',\n  position: 'topRight',\n});\n\nexport function onSuccess(totalHits) {\n  iziToast.success({\n    title: 'OK',\n    message: `Hooray! We found ${totalHits} images.`,\n    iconUrl: iconSuccess,\n    theme: 'dark',\n    color: 'rgb(89, 161, 13)',\n  });\n}\n\nexport function onError() {\n  iziToast.error({\n    title: 'Error',\n    message:\n      'Sorry, there are no images matching your search query. Please try again!',\n    iconUrl: iconError,\n    theme: 'dark',\n    color: 'rgb(239, 64, 64)',\n  });\n}\n","export const apiKey = '43934204-71edb5ce863d740adbd705f51';\n","export const BASE_URL = 'https://pixabay.com/api/';\n","import { apiKey } from './apiKey';\nimport { BASE_URL } from './url';\n\n// const apiKey = import.meta.env.VITE_API_KEY;\n\nexport class FetchAPI {\n  constructor() {\n    this.searchQuery = '';\n  }\n\n  fetchQuery() {\n    const params = new URLSearchParams({\n      key: apiKey,\n      q: this.searchQuery,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n      per_page: 40,\n    });\n\n    return fetch(`${BASE_URL}?${params}`).then(response => {\n      if (response.status !== 200) {\n        throw new Error(response.statusText);\n      }\n\n      return response.json();\n    });\n  }\n\n  get query() {\n    return this.searchQuery;\n  }\n\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n}\n","export function render(arr) {\n  return arr\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `\n  <div class=\"photo-card gallery__item\">\n    <a href=\"${largeImageURL}\" class=\"gallery__link\">\n      <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n    </a>\n    <div class=\"info\">\n      <p class=\"info-item\">\n        <b>Likes </b>${likes}\n      </p>\n      <p class=\"info-item\">\n        <b>Views </b>${views}\n      </p>\n      <p class=\"info-item\">\n        <b>Comments </b>${comments}\n      </p>\n      <p class=\"info-item\">\n        <b>Downloads </b>${downloads}\n      </p>\n    </div>\n  </div>\n`\n    )\n    .join('');\n}\n","import { refs } from './refs';\nimport { render } from './render';\n\nexport function appendImagesMarkup(hits) {\n  refs.gallery.insertAdjacentHTML('beforeend', render(hits));\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { refs } from './components/refs';\nimport { onSuccess, onError } from './components/notifications';\nimport { FetchAPI } from './components/fetchService';\nimport { appendImagesMarkup } from './components/appendImagesMarkup';\n\nconst fetchAPI = new FetchAPI();\n\nconst gallery = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nrefs.loader.classList.add('disable');\nrefs.formSearch.addEventListener('submit', onSubmit);\n\nfunction onSubmit(e) {\n  e.preventDefault();\n\n  const form = e.currentTarget;\n  fetchAPI.query = form.elements.searchQuery.value;\n\n  if (!fetchAPI.query) {\n    return;\n  }\n\n  refs.gallery.innerHTML = '';\n  refs.loader.classList.remove('disable');\n\n  fetchAPI\n    .fetchQuery()\n    .then(({ totalHits, hits }) => {\n      if (totalHits) {\n        onSuccess(totalHits);\n        appendImagesMarkup(hits);\n        gallery.refresh();\n      } else {\n        onError();\n      }\n    })\n    .catch(err => console.log(err))\n    .finally(() => {\n      form.reset();\n      refs.loader.classList.add('disable');\n    });\n}\n"],"names":["refs","iconSuccess","iconError","iziToast","onSuccess","totalHits","onError","apiKey","BASE_URL","FetchAPI","params","response","newQuery","render","arr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","appendImagesMarkup","hits","fetchAPI","gallery","SimpleLightbox","onSubmit","e","form","err"],"mappings":"6vBAAO,MAAMA,EAAO,CAClB,WAAY,SAAS,eAAe,aAAa,EACjD,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC1C,ECJeC,EAAA,iDCAAC,EAAA,+CCIfC,EAAS,SAAS,CAChB,QAAS,IACT,aAAc,aACd,SAAU,UACZ,CAAC,EAEM,SAASC,EAAUC,EAAW,CACnCF,EAAS,QAAQ,CACf,MAAO,KACP,QAAS,oBAAoBE,CAAS,WACtC,QAASJ,EACT,MAAO,OACP,MAAO,kBACX,CAAG,CACH,CAEO,SAASK,GAAU,CACxBH,EAAS,MAAM,CACb,MAAO,QACP,QACE,2EACF,QAASD,EACT,MAAO,OACP,MAAO,kBACX,CAAG,CACH,CC7BO,MAAMK,EAAS,qCCATC,EAAW,2BCKjB,MAAMC,CAAS,CACpB,aAAc,CACZ,KAAK,YAAc,EACpB,CAED,YAAa,CACX,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKH,EACL,EAAG,KAAK,YACR,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EAChB,CAAK,EAED,OAAO,MAAM,GAAGC,CAAQ,IAAIE,CAAM,EAAE,EAAE,KAAKC,GAAY,CACrD,GAAIA,EAAS,SAAW,IACtB,MAAM,IAAI,MAAMA,EAAS,UAAU,EAGrC,OAAOA,EAAS,MACtB,CAAK,CACF,CAED,IAAI,OAAQ,CACV,OAAO,KAAK,WACb,CAED,IAAI,MAAMC,EAAU,CAClB,KAAK,YAAcA,CACpB,CACH,CCpCO,SAASC,EAAOC,EAAK,CAC1B,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA;AAAA,eAEGL,CAAa;AAAA,kBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,uBAIrBC,CAAK;AAAA;AAAA;AAAA,uBAGLC,CAAK;AAAA;AAAA;AAAA,0BAGFC,CAAQ;AAAA;AAAA;AAAA,2BAGPC,CAAS;AAAA;AAAA;AAAA;AAAA,CAK/B,EACA,KAAK,EAAE,CACZ,CC/BO,SAASC,EAAmBC,EAAM,CACvCvB,EAAK,QAAQ,mBAAmB,YAAaa,EAAOU,CAAI,CAAC,CAC3D,CCEA,MAAMC,EAAW,IAAIf,EAEfgB,EAAU,IAAIC,EAAe,aAAc,CAC/C,aAAc,MACd,aAAc,GAChB,CAAC,EAED1B,EAAK,OAAO,UAAU,IAAI,SAAS,EACnCA,EAAK,WAAW,iBAAiB,SAAU2B,CAAQ,EAEnD,SAASA,EAASC,EAAG,CACnBA,EAAE,eAAc,EAEhB,MAAMC,EAAOD,EAAE,cACfJ,EAAS,MAAQK,EAAK,SAAS,YAAY,MAEtCL,EAAS,QAIdxB,EAAK,QAAQ,UAAY,GACzBA,EAAK,OAAO,UAAU,OAAO,SAAS,EAEtCwB,EACG,WAAY,EACZ,KAAK,CAAC,CAAE,UAAAnB,EAAW,KAAAkB,KAAW,CACzBlB,GACFD,EAAUC,CAAS,EACnBiB,EAAmBC,CAAI,EACvBE,EAAQ,QAAO,GAEfnB,GAER,CAAK,EACA,MAAMwB,GAAO,QAAQ,IAAIA,CAAG,CAAC,EAC7B,QAAQ,IAAM,CACbD,EAAK,MAAK,EACV7B,EAAK,OAAO,UAAU,IAAI,SAAS,CACzC,CAAK,EACL"}