{"version":3,"file":"commonHelpers.js","sources":["../src/js/components.js","../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export const API_KEY = '43934204-71edb5ce863d740adbd705f51';\nexport const BASE_URL = 'https://pixabay.com/api/';\n","import { BASE_URL, API_KEY } from './components';\n\nfunction fetchQuery(query) {\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    per_page: 40,\n  });\n\n  return fetch(`${BASE_URL}?${params}`).then(response => {\n    if (response.status !== 200) {\n      throw new Error(response.statusText);\n    }\n\n    return response.json();\n  });\n}\nexport default fetchQuery;\n","function render(arr) {\n  return arr\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `\n  <div class=\"photo-card gallery__item\">\n    <a href=\"${largeImageURL}\" class=\"gallery__link\">\n      <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n    </a>\n    <div class=\"info\">\n      <p class=\"info-item\">\n        <b>Likes </b>${likes}\n      </p>\n      <p class=\"info-item\">\n        <b>Views </b>${views}\n      </p>\n      <p class=\"info-item\">\n        <b>Comments </b>${comments}\n      </p>\n      <p class=\"info-item\">\n        <b>Downloads </b>${downloads}\n      </p>\n    </div>\n  </div>\n`\n    )\n    .join('');\n}\n\nexport default render;\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport fetchQuery from './js/pixabay-api';\nimport render from './js/render-functions';\n\nconst refs = {\n  formSearch: document.getElementById('search-form'),\n  gallery: document.querySelector('.gallery'),\n  loader: document.querySelector('.loader'),\n};\n\nlet query = '';\n\nconst gallery = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\niziToast.settings({\n  timeout: 3000,\n  transitionIn: 'fadeInDown',\n  position: 'topRight',\n});\n\nrefs.loader.classList.add('disable');\nrefs.formSearch.addEventListener('submit', onSubmit);\n\nfunction onSubmit(e) {\n  e.preventDefault();\n  query = e.currentTarget.elements.searchQuery.value;\n  if (!query) {\n    return;\n  }\n  refs.loader.classList.remove('disable');\n\n  fetchQuery(query)\n    .then(response => {\n      refs.loader.classList.add('disable');\n      if (response.totalHits) {\n        refs.gallery.innerHTML = '';\n        onSuccess(response.totalHits);\n        refs.gallery.insertAdjacentHTML('beforeend', render(response.hits));\n\n        gallery.refresh();\n      } else {\n        refs.gallery.innerHTML = '';\n        onError();\n      }\n    })\n    .catch(err => console.log(err))\n    .finally(refs.formSearch.reset());\n}\n\nfunction onSuccess(totalHits) {\n  iziToast.success({\n    title: 'OK',\n    message: `Hooray! We found ${totalHits} images.`,\n    iconUrl: './img/iconSuccess.svg',\n    theme: 'dark',\n    color: 'rgb(89, 161, 13)',\n  });\n}\n\nfunction onError() {\n  iziToast.error({\n    title: 'Error',\n    message:\n      'Sorry, there are no images matching your search query. Please try again!',\n    iconUrl: './img/iconError.svg',\n    theme: 'dark',\n    color: 'rgb(239, 64, 64)',\n  });\n}\n"],"names":["API_KEY","BASE_URL","fetchQuery","query","params","response","render","arr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","refs","gallery","SimpleLightbox","iziToast","onSubmit","e","onSuccess","onError","err","totalHits"],"mappings":"6vBAAO,MAAMA,EAAU,qCACVC,EAAW,2BCCxB,SAASC,EAAWC,EAAO,CACzB,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EACd,CAAG,EAED,OAAO,MAAM,GAAGF,CAAQ,IAAIG,CAAM,EAAE,EAAE,KAAKC,GAAY,CACrD,GAAIA,EAAS,SAAW,IACtB,MAAM,IAAI,MAAMA,EAAS,UAAU,EAGrC,OAAOA,EAAS,MACpB,CAAG,CACH,CCnBA,SAASC,EAAOC,EAAK,CACnB,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA;AAAA,eAEGL,CAAa;AAAA,kBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,uBAIrBC,CAAK;AAAA;AAAA;AAAA,uBAGLC,CAAK;AAAA;AAAA;AAAA,0BAGFC,CAAQ;AAAA;AAAA;AAAA,2BAGPC,CAAS;AAAA;AAAA;AAAA;AAAA,CAK/B,EACA,KAAK,EAAE,CACZ,CC3BA,MAAMC,EAAO,CACX,WAAY,SAAS,eAAe,aAAa,EACjD,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEA,IAAIZ,EAAQ,GAEZ,MAAMa,EAAU,IAAIC,EAAe,aAAc,CAC/C,aAAc,MACd,aAAc,GAChB,CAAC,EAEDC,EAAS,SAAS,CAChB,QAAS,IACT,aAAc,aACd,SAAU,UACZ,CAAC,EAEDH,EAAK,OAAO,UAAU,IAAI,SAAS,EACnCA,EAAK,WAAW,iBAAiB,SAAUI,CAAQ,EAEnD,SAASA,EAASC,EAAG,CACnBA,EAAE,eAAc,EAChBjB,EAAQiB,EAAE,cAAc,SAAS,YAAY,MACxCjB,IAGLY,EAAK,OAAO,UAAU,OAAO,SAAS,EAEtCb,EAAWC,CAAK,EACb,KAAKE,GAAY,CAChBU,EAAK,OAAO,UAAU,IAAI,SAAS,EAC/BV,EAAS,WACXU,EAAK,QAAQ,UAAY,GACzBM,EAAUhB,EAAS,SAAS,EAC5BU,EAAK,QAAQ,mBAAmB,YAAaT,EAAOD,EAAS,IAAI,CAAC,EAElEW,EAAQ,QAAO,IAEfD,EAAK,QAAQ,UAAY,GACzBO,IAER,CAAK,EACA,MAAMC,GAAO,QAAQ,IAAIA,CAAG,CAAC,EAC7B,QAAQR,EAAK,WAAW,MAAO,CAAA,EACpC,CAEA,SAASM,EAAUG,EAAW,CAC5BN,EAAS,QAAQ,CACf,MAAO,KACP,QAAS,oBAAoBM,CAAS,WACtC,QAAS,wBACT,MAAO,OACP,MAAO,kBACX,CAAG,CACH,CAEA,SAASF,GAAU,CACjBJ,EAAS,MAAM,CACb,MAAO,QACP,QACE,2EACF,QAAS,sBACT,MAAO,OACP,MAAO,kBACX,CAAG,CACH"}